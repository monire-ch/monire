---
import config from ".astro/config.generated.json" with { type: "json" };

const base = import.meta.env.BASE_URL || "/";
const withBase = (path: string) =>
  `${base.endsWith("/") ? base.slice(0, -1) : base}${path}`;
const version = "20260218";

const favicons = [
  {
    rel: "icon",
    type: "image/png",
    sizes: "32x32",
    href: `${withBase("/favicon-32x32.png")}?v=${version}`,
  },
  {
    rel: "icon",
    type: "image/png",
    sizes: "16x16",
    href: `${withBase("/favicon-16x16.png")}?v=${version}`,
  },
  {
    rel: "shortcut icon",
    type: "image/x-icon",
    href: `${withBase("/favicon.ico")}?v=${version}`,
  },
  {
    rel: "icon",
    type: "image/x-icon",
    href: `${withBase("/favicon.ico")}?v=${version}`,
  },
  {
    rel: "apple-touch-icon",
    sizes: "180x180",
    href: `${withBase("/apple-touch-icon.png")}?v=${version}`,
  },
];

const metaTags = [
  { name: "msapplication-TileColor", content: "#2b5797" },
  { name: "apple-mobile-web-app-title", content: config.site.title },
];
---

<!--------------
    Favicons    
---------------->{
  favicons.map((favicon) => (
    <link
      rel={favicon.rel}
      type={favicon.type}
      sizes={favicon.sizes}
      href={favicon.href}
    />
  ))
}

{metaTags.map((meta) => <meta name={meta.name} content={meta.content} />)}
